(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{dguG:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),o=a.n(n),r=a("/MKj"),i=a("Wbzz"),c=a("I204"),s=a("efN2"),l=a("sfvf"),d=a("qKvR"),u={name:"1gr1jd4",styles:"display:flex;flex-direction:column;width:100%;max-width:720px;margin:0 auto;"},b={name:"1w34v9o",styles:"font-size:1.2em;margin:25px 0;"},p={name:"1qecj6a",styles:"color:lightgrey;font-size:.9em;margin-bottom:5px;"},g={name:"14nxlzu",styles:"color:darkgrey;font-size:.8em;margin-bottom:15px;"},m={name:"8atqhb",styles:"width:100%;"},f={name:"11w5vzs",styles:"font-size:.8em;margin-top:10px;"},h={name:"1r2f04i",styles:"margin-bottom:10px;"},v={name:"19aq9al",styles:"color:var(--green);"},y={name:"1d4c5m7",styles:"color:var(--red);"},j={name:"19aq9al",styles:"color:var(--green);"},O={name:"1maz8op",styles:"font-size:inherit;:disabled{color:var(--light);background-color:rgba(100, 100, 100, .2);cursor:disallowed;}"};t.default=Object(r.b)((function(e){return{me:e.global.me}}),null)((function(e){var t=e.me,a=o.a.useState(!1),n=a[0],r=a[1],x=o.a.useState(void 0),k=x[0],w=x[1],z=o.a.useState(""),C=z[0],q=z[1],S=o.a.useState(""),I=S[0],V=S[1];return Object(d.a)("div",{css:u},Object(d.a)(c.a,{title:"Create Organization",description:"Create a new organization in Glee."}),Object(d.a)("div",{css:b},"Create a new organization"),Object(d.a)("div",{css:p},"Organization Details"),Object(d.a)("div",{css:g},"Information required by Glee."),Object(d.a)("div",{css:m},Object(d.a)("div",null,Object(d.a)(s.c,{title:"Name",description:"Publicly visible name of your organization",placeholder:"e.g. Glee",value:C,setValue:q,maxLength:32,required:!0}),Object(d.a)(s.e,{title:"Icon",description:"An https URL to the logo or icon of the organization",placeholder:"e.g. https://github.com/gleeapp.png",value:I,setValue:V,pattern:"https://.*",maxLength:2048}))),Object(d.a)("div",{css:f},Object(d.a)("div",{css:h},!0===k?Object(d.a)("div",{css:v},C||"Your organization"," has been successfully created!"):!1===k?Object(d.a)("div",{css:y},"Unable to create the organization. Make sure you've entered the details correctly. If it doesn't work, please contact support."):Object(d.a)("div",{css:j},"Start for free, upgrade later!")),Object(d.a)("button",{disabled:n||!C,css:O,onClick:function(){if(!n){if(C.length<1||C.length>32)return w(!1);if(I&&I.length>2048)return w(!1);if(I&&!/^(((?:https:\/\/)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www\.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w\-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[.!/\\\w]*))?\.(?:png|jpg|jpeg|bmp))$/i.test(I))return w(!1);r(!0),Object(l.a)()&&window.fetch("https://gleepi.herokuapp.com/orgs",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t.token},body:JSON.stringify({name:C,icon:I})}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){w(!0),Object(i.b)("/"+e.code)})).catch((function(e){console.error(e),w(!1),r(!1)}))}}},n?"Creating":"Create Organization")))}))},efN2:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return x})),a.d(t,"e",(function(){return k})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return V}));var n=a("k1TG"),o=a("8o2o"),r=a("iYmT"),i=(a("q1tI"),a("IdFE")),c=a("qKvR"),s={name:"17grcf8",styles:"appearance:none;"},l=function(e){var t=e.enabled,a=e.toggleHandler,n=e.disabled;return Object(c.a)("label",{css:Object(r.a)({display:"flex",alignItems:"center",opacity:n?.5:1})},Object(c.a)("div",{css:Object(r.a)({width:45,height:24,padding:2,display:"flex",justifyContent:"center",borderRadius:50,backgroundColor:t?"var(--green)":"rgba(100, 100, 100, .2)",boxShadow:"0px 0px 3px -2px black inset",transition:"background-color var(--transition-default-time) ease",cursor:n?"not-allowed":"pointer",":hover":{backgroundColor:t?"#34c759":"rgba(100, 100, 100, .3)"},":focus-within":{backgroundColor:t?"#34c759":"rgba(100, 100, 100, .3)"}})},Object(c.a)("div",{css:Object(r.a)({width:20,height:20,borderRadius:50,backgroundColor:"var(--light)",boxShadow:"0px 0px 3px -2px black",transform:t?"translateX(10px)":"translateX(-10px)",transition:"transform var(--transition-default-time) ease, background-color var(--transition-default-time) ease"})})),Object(c.a)("input",{disabled:n,checked:t,type:"checkbox",css:s,onChange:a}))},d={name:"ywfyo0",styles:"width:100%;display:flex;align-items:center;"},u={name:"t97txp",styles:"appearance:none;flex:auto;color:inherit;background-color:transparent;border:none;cursor:pointer;padding-right:15px;:invalid{outline:0;box-shadow:none;border:none;color:var(--red);}"},b={name:"f6ijbv",styles:"color:grey;background-color:var(--dark);"},p={name:"dcwsa9",styles:"background-color:var(--dark);"},g=function(e){var t=e.options,a=e.selectKey,s=e.selectValue,l=e.value,g=e.setValue,m=e.placeholder,f=Object(o.a)(e,["options","selectKey","selectValue","value","setValue","placeholder"]);return Object(c.a)("div",{css:d},Object(c.a)("select",Object(n.a)({value:l||"--placeholder",css:u,onChange:function(e){return g(e.target.value)}},f),Object(c.a)("option",{value:"--placeholder",disabled:!0,css:b},m||"Select"),Object.keys(t).map((function(e){return Object(c.a)("option",{key:e,value:"key"===s?e:"keyvalue"===s?e+" ("+t[e]+")":t[e],css:p},"value"===a?t[e]:"keyvalue"===a?e+" ("+t[e]+")":e)}))),Object(c.a)(i.b,{css:Object(r.a)({marginLeft:-15,pointerEvents:"none"})}))},m={name:"1h0syua",styles:"margin-bottom:15px;padding:10px;background-color:rgba(100, 100, 100, .2);border-radius:3px;transition:background-color var(--transition-default-time) ease-out;:hover{background-color:rgba(100, 100, 100, .3);}:focus-within{background-color:rgba(100, 100, 100, .3);}"},f={name:"uz39rw",styles:"margin-bottom:0;color:rgba(200, 200, 200, .5);font-size:.7em;font-weight:500;text-transform:uppercase;"},h={name:"1ulfkke",styles:"margin-bottom:5px;color:rgba(200, 200, 200, .3);font-size:.6em;font-weight:500;"},v={name:"1icbkz",styles:"display:flex;align-items:center;font-size:.8em;"},y={name:"1124ap9",styles:"margin-right:5px;color:lightgrey;"},j={name:"1v4fm80",styles:"flex:auto;background-color:transparent;border:none;:disabled{color:darkgrey;}:invalid{outline:0;box-shadow:none;border:none;color:var(--red);}"},O=function(e){var t=e.type,a=e.title,r=e.description,i=e.pretext,s=e.placeholder,l=e.value,d=e.setValue,u=Object(o.a)(e,["type","title","description","pretext","placeholder","value","setValue"]);return Object(c.a)("div",{css:m},Object(c.a)("div",{css:f},a),Object(c.a)("div",{css:h},r),Object(c.a)("div",{css:v},i?Object(c.a)("div",{css:y},i):null,Object(c.a)("input",Object(n.a)({type:t,placeholder:s,value:l,css:j,onChange:function(e){return d(e.target.value)}},u))))},x=function(e){return Object(c.a)(O,Object(n.a)({type:"text"},e))},k=function(e){return Object(c.a)(O,Object(n.a)({type:"url"},e))},w=function(e){return Object(c.a)(O,Object(n.a)({type:"email"},e))},z={name:"1h0syua",styles:"margin-bottom:15px;padding:10px;background-color:rgba(100, 100, 100, .2);border-radius:3px;transition:background-color var(--transition-default-time) ease-out;:hover{background-color:rgba(100, 100, 100, .3);}:focus-within{background-color:rgba(100, 100, 100, .3);}"},C={name:"uz39rw",styles:"margin-bottom:0;color:rgba(200, 200, 200, .5);font-size:.7em;font-weight:500;text-transform:uppercase;"},q={name:"1ulfkke",styles:"margin-bottom:5px;color:rgba(200, 200, 200, .3);font-size:.6em;font-weight:500;"},S={name:"1icbkz",styles:"display:flex;align-items:center;font-size:.8em;"},I={name:"1124ap9",styles:"margin-right:5px;color:lightgrey;"},V=function(e){var t=e.title,a=e.description,r=e.pretext,i=e.placeholder,s=Object(o.a)(e,["title","description","pretext","placeholder"]);return Object(c.a)("div",{css:z},Object(c.a)("div",{css:C},t),Object(c.a)("div",{css:q},a),Object(c.a)("div",{css:S},r?Object(c.a)("div",{css:I},r):null,Object(c.a)(g,Object(n.a)({placeholder:i},s))))}}}]);
//# sourceMappingURL=component---src-pages-new-jsx-ecc209b22229722a58dd.js.map