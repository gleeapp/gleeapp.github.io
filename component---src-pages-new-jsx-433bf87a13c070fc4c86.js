(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{dguG:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),o=a("/MKj"),i=a("Wbzz"),s=a("I204"),c=a("efN2"),l=a("sfvf"),d=a("qKvR"),u={name:"1gr1jd4",styles:"display:flex;flex-direction:column;width:100%;max-width:720px;margin:0 auto;"},b={name:"1w34v9o",styles:"font-size:1.2em;margin:25px 0;"},p={name:"1qecj6a",styles:"color:lightgrey;font-size:.9em;margin-bottom:5px;"},g={name:"14nxlzu",styles:"color:darkgrey;font-size:.8em;margin-bottom:15px;"},f={name:"8atqhb",styles:"width:100%;"},m={name:"11w5vzs",styles:"font-size:.8em;margin-top:10px;"},h={name:"1r2f04i",styles:"margin-bottom:10px;"},v={name:"19aq9al",styles:"color:var(--green);"},y={name:"1d4c5m7",styles:"color:var(--red);"},j={name:"19aq9al",styles:"color:var(--green);"},O={name:"1maz8op",styles:"font-size:inherit;:disabled{color:var(--light);background-color:rgba(100, 100, 100, .2);cursor:disallowed;}"};t.default=Object(o.b)((function(e){return{me:e.global.me}}),null)((function(e){var t=e.me,a=r.a.useState(!1),n=a[0],o=a[1],x=r.a.useState(void 0),k=x[0],w=x[1],z=r.a.useState(""),C=z[0],q=z[1],S=r.a.useState(""),I=S[0],V=S[1];return Object(d.a)("div",{css:u},Object(d.a)(s.a,{title:"Create Organization",description:"Create a new organization in Glee."}),Object(d.a)("div",{css:b},"Create a new organization"),Object(d.a)("div",{css:p},"Organization Details"),Object(d.a)("div",{css:g},"Information required by Glee."),Object(d.a)("div",{css:f},Object(d.a)("div",null,Object(d.a)(c.c,{title:"Name",description:"Publicly visible name of your organization",placeholder:"e.g. Glee",value:C,setValue:q,maxLength:32,required:!0}),Object(d.a)(c.e,{title:"Icon",description:"An https URL to the logo or icon of the organization",placeholder:"e.g. https://github.com/gleeapp.png",value:I,setValue:V,pattern:"https://.*",maxLength:2048}))),Object(d.a)("div",{css:m},Object(d.a)("div",{css:h},!0===k?Object(d.a)("div",{css:v},C||"Your organization"," has been successfully created!"):!1===k?Object(d.a)("div",{css:y},"Unable to create the organization. Make sure you've entered the details correctly. If it doesn't work, please contact support."):Object(d.a)("div",{css:j},"Start for free, upgrade later!")),Object(d.a)("button",{disabled:n||!C,css:O,onClick:function(){if(!n){if(C.length<1||C.length>32)return w(!1);if(I&&I.length>2048)return w(!1);if(I&&!/^(((?:https:\/\/)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www\.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w\-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[.!/\\\w]*))?\.(?:png|jpg|jpeg|bmp))$/i.test(I))return w(!1);o(!0),Object(l.a)()&&window.fetch("https://gleepi.herokuapp.com/orgs",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t.token},body:JSON.stringify({name:C,icon:I})}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){w(!0),Object(i.c)("/"+e.code)})).catch((function(e){console.error(e),w(!1),o(!1)}))}}},n?"Creating":"Create Organization")))}))},efN2:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return x})),a.d(t,"e",(function(){return k})),a.d(t,"b",(function(){return w})),a.d(t,"a",(function(){return V}));a("E5k/"),a("rzGZ"),a("Dq+y"),a("8npG"),a("Ggvi");var n=a("iYmT"),r=(a("q1tI"),a("IdFE")),o=a("qKvR");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}var c={name:"17grcf8",styles:"appearance:none;"},l=function(e){var t=e.enabled,a=e.toggleHandler,r=e.disabled;return Object(o.a)("label",{css:Object(n.a)({display:"flex",alignItems:"center",opacity:r?.5:1})},Object(o.a)("div",{css:Object(n.a)({width:45,height:24,padding:2,display:"flex",justifyContent:"center",borderRadius:50,backgroundColor:t?"var(--green)":"rgba(100, 100, 100, .2)",boxShadow:"0px 0px 3px -2px black inset",transition:"background-color var(--transition-default-time) ease",cursor:r?"not-allowed":"pointer",":hover":{backgroundColor:t?"#34c759":"rgba(100, 100, 100, .3)"},":focus-within":{backgroundColor:t?"#34c759":"rgba(100, 100, 100, .3)"}})},Object(o.a)("div",{css:Object(n.a)({width:20,height:20,borderRadius:50,backgroundColor:"var(--light)",boxShadow:"0px 0px 3px -2px black",transform:t?"translateX(10px)":"translateX(-10px)",transition:"transform var(--transition-default-time) ease, background-color var(--transition-default-time) ease"})})),Object(o.a)("input",{disabled:r,checked:t,type:"checkbox",css:c,onChange:a}))},d={name:"ywfyo0",styles:"width:100%;display:flex;align-items:center;"},u={name:"t97txp",styles:"appearance:none;flex:auto;color:inherit;background-color:transparent;border:none;cursor:pointer;padding-right:15px;:invalid{outline:0;box-shadow:none;border:none;color:var(--red);}"},b={name:"f6ijbv",styles:"color:grey;background-color:var(--dark);"},p={name:"dcwsa9",styles:"background-color:var(--dark);"},g=function(e){var t=e.options,a=e.selectKey,c=e.selectValue,l=e.value,g=e.setValue,f=e.placeholder,m=s(e,["options","selectKey","selectValue","value","setValue","placeholder"]);return Object(o.a)("div",{css:d},Object(o.a)("select",i({value:l||"--placeholder",css:u,onChange:function(e){return g(e.target.value)}},m),Object(o.a)("option",{value:"--placeholder",disabled:!0,css:b},f||"Select"),Object.keys(t).map((function(e){return Object(o.a)("option",{key:e,value:"key"===c?e:"keyvalue"===c?e+" ("+t[e]+")":t[e],css:p},"value"===a?t[e]:"keyvalue"===a?e+" ("+t[e]+")":e)}))),Object(o.a)(r.b,{css:Object(n.a)({marginLeft:-15,pointerEvents:"none"})}))},f={name:"1h0syua",styles:"margin-bottom:15px;padding:10px;background-color:rgba(100, 100, 100, .2);border-radius:3px;transition:background-color var(--transition-default-time) ease-out;:hover{background-color:rgba(100, 100, 100, .3);}:focus-within{background-color:rgba(100, 100, 100, .3);}"},m={name:"uz39rw",styles:"margin-bottom:0;color:rgba(200, 200, 200, .5);font-size:.7em;font-weight:500;text-transform:uppercase;"},h={name:"1ulfkke",styles:"margin-bottom:5px;color:rgba(200, 200, 200, .3);font-size:.6em;font-weight:500;"},v={name:"1icbkz",styles:"display:flex;align-items:center;font-size:.8em;"},y={name:"1124ap9",styles:"margin-right:5px;color:lightgrey;"},j={name:"1v4fm80",styles:"flex:auto;background-color:transparent;border:none;:disabled{color:darkgrey;}:invalid{outline:0;box-shadow:none;border:none;color:var(--red);}"},O=function(e){var t=e.type,a=e.title,n=e.description,r=e.pretext,c=e.placeholder,l=e.value,d=e.setValue,u=s(e,["type","title","description","pretext","placeholder","value","setValue"]);return Object(o.a)("div",{css:f},Object(o.a)("div",{css:m},a),Object(o.a)("div",{css:h},n),Object(o.a)("div",{css:v},r?Object(o.a)("div",{css:y},r):null,Object(o.a)("input",i({type:t,placeholder:c,value:l,css:j,onChange:function(e){return d(e.target.value)}},u))))},x=function(e){return Object(o.a)(O,i({type:"text"},e))},k=function(e){return Object(o.a)(O,i({type:"url"},e))},w=function(e){return Object(o.a)(O,i({type:"email"},e))},z={name:"1h0syua",styles:"margin-bottom:15px;padding:10px;background-color:rgba(100, 100, 100, .2);border-radius:3px;transition:background-color var(--transition-default-time) ease-out;:hover{background-color:rgba(100, 100, 100, .3);}:focus-within{background-color:rgba(100, 100, 100, .3);}"},C={name:"uz39rw",styles:"margin-bottom:0;color:rgba(200, 200, 200, .5);font-size:.7em;font-weight:500;text-transform:uppercase;"},q={name:"1ulfkke",styles:"margin-bottom:5px;color:rgba(200, 200, 200, .3);font-size:.6em;font-weight:500;"},S={name:"1icbkz",styles:"display:flex;align-items:center;font-size:.8em;"},I={name:"1124ap9",styles:"margin-right:5px;color:lightgrey;"},V=function(e){var t=e.title,a=e.description,n=e.pretext,r=e.placeholder,c=s(e,["title","description","pretext","placeholder"]);return Object(o.a)("div",{css:z},Object(o.a)("div",{css:C},t),Object(o.a)("div",{css:q},a),Object(o.a)("div",{css:S},n?Object(o.a)("div",{css:I},n):null,Object(o.a)(g,i({placeholder:r},c))))}}}]);
//# sourceMappingURL=component---src-pages-new-jsx-433bf87a13c070fc4c86.js.map