(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{hZgW:function(e,t,a){"use strict";var n=a("iYmT"),o=a("q1tI"),r=a.n(o),s=a("qKvR"),i=function(e){var t=e.text,a=e.handler,o=e.primary;return Object(s.a)("div",{css:Object(n.a)({padding:"10px 20px",borderRadius:o?3:0,fontSize:".8em",fontWeight:500,backgroundColor:o?"rgba(100, 100, 100, .3)":"none",color:"lightgrey",transition:"color var(--transition-default-time) ease",cursor:"pointer",":hover":{color:"var(--green)"}}),onClick:a},t)},c={name:"pd9xsj",styles:"position:fixed;top:0;left:0;height:100vh;width:100vw;background-color:rgba(0, 0, 0, .8);z-index:42;display:flex;justify-content:center;align-items:center;font-size:.9em;transition:opacity var(--transition-default-time) ease;@supports (backdrop-filter: blur()){background-color:rgba(0, 0, 0, .5);backdrop-filter:blur(15px);}"},l={name:"1crmtbn",styles:"max-width:400px;border-radius:3px;background-color:rgba(35, 35, 35, 1);box-shadow:0px 15px 50px -10px black;transition:transform var(--transition-default-time) ease;"},d={name:"1ruxp1v",styles:"padding:20px;"},u={name:"14kzdzw",styles:"margin-bottom:10px;font-weight:600;text-transform:uppercase;"},m={name:"4qz4td",styles:"padding:15px;margin-top:15px;display:flex;flex-wrap:wrap;justify-content:flex-end;border-bottom-left-radius:3px;border-bottom-right-radius:3px;background-color:rgba(15, 15, 15, .8);"};t.a=function(e){var t=e.title,a=e.message,n=e.okText,o=e.okHandler,b=e.cancelText,g=e.cancelHandler,p=r.a.useRef(null),f=r.a.useRef(null);return r.a.useEffect((function(){p.current.style.opacity=1,f.current.style.transform="scale(1)"}),[]),Object(s.a)("div",{ref:p,style:{opacity:0},css:c},Object(s.a)("div",{ref:f,style:{transform:"scale(0.5)"},css:l},Object(s.a)("div",{css:d},Object(s.a)("div",{css:u},t),Object(s.a)("div",null,a)),Object(s.a)("div",{css:m},Object(s.a)(i,{text:b||"No",handler:g}),Object(s.a)(i,{text:n||"Yes",handler:o,primary:!0}))))}},tGlL:function(e,t,a){"use strict";a.r(t);var n=a("iYmT"),o=a("q1tI"),r=a.n(o),s=a("/MKj"),i=a("Wbzz"),c=a("I204"),l=a("hZgW"),d=a("KIry"),u=a("v7au"),m=a("ut4/"),b=a("qKvR"),g={name:"14shqbp",styles:"padding:15px;display:flex;flex-direction:column;background-color:rgba(100, 100, 100, .2);transition:background-color var(--transition-default-time) ease-out;border-radius:3px;:hover{background-color:rgba(100, 100, 100, .3);}"},p={name:"14p7st7",styles:"display:flex;align-items:center;margin-bottom:15px;"},f={name:"j5b9iu",styles:"margin-right:15px;"},h={name:"1be85a8",styles:"font-size:.9em;"},y={name:"69i1ev",styles:"display:flex;justify-content:space-between;align-items:center;"},x={name:"35pwsh",styles:"font-size:.7em;color:grey;"},v={name:"1l9928u",styles:"display:flex;justify-content:flex-end;svg{color:grey;transition:color var(--transition-default-time) ease-out;}:hover svg:hover{color:white;}"},j=function(e){var t=e.code,a=e.name,n=e.icon,o=e.createdAt,r=e.permissions,s=(o=new Date(o)).toDateString()===(new Date).toDateString()?o.toLocaleTimeString():o.toDateString();return Object(b.a)(i.a,{to:"/"+t},Object(b.a)("div",{css:g},Object(b.a)("div",{css:p},n?Object(b.a)("img",{alt:"",src:n,height:64,width:64,css:f}):null,Object(b.a)("div",{css:h},a)),Object(b.a)("div",{css:y},Object(b.a)("div",{css:x},s),Object(b.a)("div",{css:v},(r===m.a.OWNER||r===m.a.ADMIN)&&Object(b.a)(i.a,{to:"/"+t+"/settings"},Object(b.a)(u.b,null))))))},O=a("IdFE"),w={name:"mknlon",styles:"color:grey;:hover{color:var(--light);}"},k={name:"11k2a6t",styles:"height:130px;padding:15px;display:flex;align-items:center;transition:box-shadow var(--transition-default-time) ease-in-out;box-shadow:0 0 0px 2px rgba(100, 100, 100, .2) inset;border-radius:3px;:hover{box-shadow:0 0 0px 2px rgba(100, 100, 100, .3) inset;}"},z={name:"16enxgw",styles:"margin-right:15px;padding:5px;font-size:64px;"},A={name:"1be85a8",styles:"font-size:.9em;"},E=function(){return Object(b.a)(i.a,{to:"/new",css:w},Object(b.a)("div",{css:k},Object(b.a)(O.a,{css:z}),Object(b.a)("div",{css:A},"Create a new organization")))},T=a("sfvf"),D={name:"1tnr6o4",styles:"margin-bottom:5px;font-size:1.2em;font-weight:500;"},R={name:"1enjvrn",styles:"margin-bottom:25px;color:lightgrey;"},q={name:"xxdqwu",styles:"display:flex;flex-wrap:wrap;align-items:center;"},S={name:"13r4eax",styles:"border-radius:3px;margin-right:15px;"},H={name:"3inse5",styles:"color:darkgrey;font-size:.8em;font-weight:500;text-transform:uppercase;"},I={name:"1q7njkh",styles:"margin-top:10px;"},W={name:"3inse5",styles:"color:darkgrey;font-size:.8em;font-weight:500;text-transform:uppercase;"},G={name:"jn01mi",styles:"margin-top:50px;"},M={name:"1tnr6o4",styles:"margin-bottom:5px;font-size:1.2em;font-weight:500;"},Y={name:"1enjvrn",styles:"margin-bottom:25px;color:lightgrey;"},C={name:"hcueip",styles:"font-size:.8em;color:darkgrey;"},N={name:"1xdmod1",styles:"margin-top:50px;padding:15px;border:2px solid var(--red);border-radius:3px;background-color:rgba(255, 69, 58, .1);"},K={name:"1ihunoi",styles:"font-size:.9em;margin-bottom:5px;"},F={name:"zmgnal",styles:"color:lightgrey;font-size:.8em;margin-bottom:15px;"},L={name:"8atqhb",styles:"width:100%;"},U={name:"d99xwk",styles:"font-size:.8em;background-color:var(--red);color:var(--light);:disabled{background-color:darkred;color:lightgrey;cursor:not-allowed;}"},Z={name:"1niawgy",styles:"margin-top:10px;font-size:.8em;color:var(--red);"};t.default=Object(s.b)((function(e){return{me:e.global.me}}))((function(e){var t=e.me,a=r.a.useState(!1),o=a[0],s=a[1],u=r.a.useState(void 0),m=u[0],g=u[1],p=r.a.useState(""),f=p[0],h=p[1],y=r.a.useState([]),x=y[0],v=y[1];return r.a.useEffect((function(){Object(T.a)()&&window.fetch("https://gleepi.herokuapp.com/orgs",{headers:{Accept:"application/json",Authorization:t.token}}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){g(!0),v(e)})).catch((function(e){console.error(e),g(!1)}))}),[t.token]),Object(b.a)(r.a.Fragment,null,Object(b.a)(c.a,{title:"Account",description:"Manage your Glee account and organizations."}),Object(b.a)("div",null,Object(b.a)("div",{css:D},"Profile"),Object(b.a)("div",{css:R},Object(b.a)("div",null,"Your profile data is synced with your GitHub account."),Object(b.a)("div",null,"Update them in GitHub and you'll see the changes next time you login.")),Object(b.a)("div",{css:q},Object(b.a)("img",{alt:"Avatar",src:"https://avatars2.githubusercontent.com/u/"+t.id+"?size=256",width:128,height:128,css:S}),Object(b.a)("div",null,Object(b.a)("div",null,Object(b.a)("div",{css:H},"User"),Object(b.a)("div",null,t.name||t.login)),Object(b.a)("div",{css:I},Object(b.a)("div",{css:W},"Email"),Object(b.a)("div",null,t.email))))),Object(b.a)("div",{css:G},Object(b.a)("div",{css:M},"Organizations"),Object(b.a)("div",{css:Y},"You are a member of these organizations."),Object(b.a)("div",{css:Object(n.a)({display:"grid",gap:15,gridRowGap:15,gridTemplateColumns:"repeat("+(m?"auto-fill":"auto-fit")+", minmax(250px, 1fr))"})},!0===m?Object(b.a)(r.a.Fragment,null,x.map((function(e){return Object(b.a)(j,{key:e.code,code:e.code,name:e.name,icon:e.icon,createdAt:e.createdAt,permissions:e.permissions})})),Object(b.a)(E,null)):!1===m?Object(b.a)("div",{css:C},"Oh, crap! Our servers having some issues. Please try again."):Object(b.a)(d.a,null))),Object(b.a)("div",{css:N},Object(b.a)("div",{css:K},"Danger Zone"),Object(b.a)("div",{css:F},"When you delete your account, we'll remove the connection to your GitHub account, And then anonymize this account so that this account cannot be linked back to you. This way we preserve the votes, comments, or posts made by you in an organization without having to store your data. This cannot be undone."),Object(b.a)("div",{css:L},Object(b.a)("button",{disabled:o||x.length,css:U,onClick:function(){return h("Are you sure you want to delete your account? This cannot be undone.")}},o?"Deleting":"Delete Account"),x.length?Object(b.a)("div",{css:Z},"You cannot delete your account as long as you're the owner of any organizations."):null)),f?Object(b.a)(l.a,{title:"Delete Account",message:f,okHandler:function(){o||x.length||(s(!0),h(""),Object(T.a)()&&window.fetch("https://gleepi.herokuapp.com/login",{method:"DELETE",headers:{Accept:"application/json",Authorization:t.token}}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(){s(!1),Object(i.b)("/sayonara")})).catch((function(e){console.error(e),s(!1)})))},cancelHandler:function(){return h("")}}):null)}))},"ut4/":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={OWNER:1,ADMIN:2,MEMBER:4,AUTHOR:8}}}]);
//# sourceMappingURL=component---src-pages-account-jsx-a1f67f2b80db7b7e73c8.js.map